export NAME="FET"
export STATUS=
export URL=https://lalescu.ro/liviu/fet/
export BASENAME=fet
export DESCRIPTION="FET is free software for automatically scheduling the timetable of a school, high-school or university. It uses a fast and efficient timetabling algorithm."
export CATEGORY=school
export TYPE=application
#export VERSION=6.9.5
#export VERSIONDATE=20230820
#export VERSION=6.9.6
#export VERSIONDATE=20230929
#export VERSION=6.9.7
#export VERSIONDATE=20231011
#export VERSION=6.10.0
#export VERSIONDATE=20231021
#export VERSION=6.11.0
#export VERSIONDATE=20231026
#export VERSION=6.11.1
#export VERSIONDATE=20231030
#export VERSION=6.12.0
#export VERSIONDATE=20231113
#export VERSION=6.13.0
#export VERSIONDATE=20231118
#export VERSION=6.13.1
#export VERSIONDATE=20231123
#export VERSION=6.13.2
#export VERSIONDATE=20231127
#export VERSION=6.14.0
#export VERSIONDATE=20231203
#export VERSION=6.14.1
#export VERSIONDATE=20231206
#export VERSION=6.14.2
#export VERSIONDATE=20231224
#export VERSION=6.15.0
#export VERSIONDATE=20240102
#export VERSION=6.15.1
#export VERSIONDATE=20240109
#export VERSION=6.16.0
#export VERSIONDATE=20240130
#export VERSION=6.16.1
#export VERSIONDATE=20240207
#export VERSION=6.17.0
#export VERSIONDATE=20240217
#export VERSION=6.18.0
#export VERSIONDATE=20240221
#export VERSION=6.18.1
#export VERSIONDATE=20240302
#export VERSION=6.19.0
#export VERSIONDATE=20240326
#export VERSION=6.19.1
#export VERSIONDATE=20240404
export VERSION=6.19.2
export VERSIONDATE=20240406
wl-showstatus --package-version
#export DEPENDENCIES=qt
export DEPENDENCIES=qt6
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=
export OPTIONALBUILDDEPENDENCIES=
export LICENSEFILE=COPYING
export LICENSETYPE=
export DOWNLOADURL="https://lalescu.ro/liviu/fet/download.html"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
export DOWNLOADSOURCEURL=https://lalescu.ro/liviu/fet/download/$BASENAME-$VERSION.tar.bz2
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
wl-showstatus extract
tar xj --force-local -f $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.bz2
cd $BASENAME-$VERSION
wl-showstatus configure &&
 #$MINGWPREFIX/qt/bin/qmake -makefile *.pro -spec $MINGWPREFIX/qt/mkspecs/win32-g++ &&
 $MINGWPREFIX/qt6/bin/qmake -makefile *.pro -spec $MINGWPREFIX/qt6/mkspecs/win32-g++ &&
 wl-showstatus build &&
 mingw32-make &&
 wl-showstatus install &&
 mkdir -p $INSTALLPREFIX/share/fet/translations &&
 cp -f *.exe $INSTALLPREFIX/share/fet/ &&
 cp -f *.bat $INSTALLPREFIX/share/fet/ &&
 cp -f [A-Z]* $INSTALLPREFIX/share/fet/ &&
 cp -f translations/*.qm $INSTALLPREFIX/share/fet/translations/ &&
 cp -rf examples $INSTALLPREFIX/share/fet/ &&
 cp -rf doc $INSTALLPREFIX/share/fet/ &&
 wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION
####PATH=$MINGWPREFIX/qt6/bin:$PATH $MINGWPREFIX/share/fet/fet.exe
####PATH=$MINGWPREFIX/qt6/bin:$PATH $MINGWPREFIX/share/fet/fet-cl.exe



# create standalone package
mkdir -p FET/platforms FET/styles FET/tls &&
 PATH=$MINGWPREFIX/qt6/bin:$PATH copypedeps -r $MINGWPREFIX/share/fet/* $MINGWPREFIX/qt6/plugins/platforms/qwindows.dll $MINGWPREFIX/qt6/plugins/styles/q*style.dll $MINGWPREFIX/qt6/plugins/tls/q*backend.dll FET/ &&
 mv -f fet/qwindows.dll FET/platforms &&
 mv -f fet/q*style.dll FET/styles &&
 mv -f fet/q*backend.dll FET/tls &&
 cp -rf $MINGWPREFIX/share/fet/{translations,examples,doc} FET/ &&
    echo OK
