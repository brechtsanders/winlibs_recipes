export NAME="PSUtils"
export STATUS=
export URL=https://github.com/rrthomas/psutils
export BASENAME=psutils
export DESCRIPTION="PSUtils is a suite of utilities for manipulating PostScript documents produced according to the Document Structuring Conventions. You can select and rearrange pages, including arrangement into signatures for booklet printing, combine multple pages into a single page for n-up printing, and resize, flip and rotate pages."
export CATEGORY=fileformat
export TYPE=library
#export VERSION=2.07
#export VERSIONDATE=20211219
#export VERSION=2.08
#export VERSIONDATE=20211228
export VERSION=2.09
export VERSIONDATE=20220510
wl-showstatus --package-version
export DEPENDANCIES=libpaper
export OPTIONALDEPENDANCIES=
export BUILDDEPENDANCIES=help2man
export LICENSEFILE=COPYING
export LICENSETYPE=GPL
export DOWNLOADURL="https://github.com/rrthomas/psutils/releases"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
export DOWNLOADSOURCEURL=https://github.com/rrthomas/psutils/releases/download/v$VERSION/$BASENAME-$VERSION.tar.gz
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
wl-showstatus extract
tar xfz $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.gz
cd $BASENAME-$VERSION
# ignore issue detecting libpaper (version >= 2.09)
sed -i.bak -e "s/as_fn_error\(.*psutils needs libpaper to work\)/echo\1/" configure
wl-showstatus configure &&
 ./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM --enable-relocatable &&
 wl-showstatus build-install &&
 make install-strip &&
 wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION



