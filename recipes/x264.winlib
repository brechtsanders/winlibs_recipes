export NAME="x264"
export STATUS=
export URL=http://www.videolan.org/developers/x264.html
export BASENAME=x264
export DESCRIPTION="x264 is a free library for encoding H264/AVC video streams."
export CATEGORY=video,codec
export TYPE=library
#export VERSION=snapshot-20091205-2245
#export VERSIONDATE=20091206
#export VERSION=snapshot-20091221-2245
#export VERSIONDATE=20091222
#export VERSION=snapshot-20091227-2245
#export VERSIONDATE=20091228
#export VERSION=snapshot-20100125-2245
#export VERSIONDATE=20100126
#export VERSION=snapshot-20100824-2245
#export VERSIONDATE=20100825
#export VERSION=snapshot-20101005-2245
#export VERSIONDATE=20101006
#export VERSION=snapshot-20110219-2245
#export VERSIONDATE=20110220
#export VERSION=snapshot-20120303-2245-stable
#export VERSIONDATE=20120304
#export VERSION=snapshot-20120826-2245-stable
#export VERSIONDATE=20120827
#export VERSION=snapshot-20140126-2245-stable
#export VERSIONDATE=20140127
#export VERSION=snapshot-20170309-2245-stable
#export VERSIONDATE=20170313
#export VERSION=snapshot-20170312-2245-stable
#export VERSIONDATE=20170313
#export VERSION=snapshot-20170314-2245-stable
#export VERSIONDATE=20170315
#export VERSION=snapshot-20170315-2245
#export VERSIONDATE=20170316
#export VERSION=snapshot-20170316-2245-stable
#export VERSIONDATE=20170317
#export VERSION=snapshot-20170317-2245-stable
#export VERSIONDATE=20170318
#export VERSION=snapshot-20170318-2245-stable
#export VERSIONDATE=20170319
#export VERSION=snapshot-20170319-2245-stable
#export VERSIONDATE=20170320
#export VERSION=snapshot-20170321-2245-stable
#export VERSIONDATE=20170322
#export VERSION=snapshot-20170322-2245-stable
#export VERSIONDATE=20170323
#export VERSION=snapshot-20170323-2245-stable
#export VERSIONDATE=20170324
#export VERSION=snapshot-20170324-2245-stable
#export VERSIONDATE=20170325
#export VERSION=snapshot-20170325-2245-stable
#export VERSIONDATE=20170326
#export VERSION=snapshot-20170326-2245-stable
#export VERSIONDATE=20170327
#export VERSION=snapshot-20170327-2245-stable
#export VERSIONDATE=20170328
#export VERSION=snapshot-20170328-2245-stable
#export VERSIONDATE=20170329
#export VERSION=snapshot-20170329-2245-stable
#export VERSIONDATE=20170330
#export VERSION=snapshot-20170330-2245-stable
#export VERSIONDATE=20170331
#export VERSION=snapshot-20170401-2245-stable
#export VERSIONDATE=20170402
#export VERSION=snapshot-20170406-2245-stable
#export VERSIONDATE=20170407
#export VERSION=snapshot-20170407-2245-stable
#export VERSIONDATE=20170408
#export VERSION=snapshot-20170408-2245-stable
#export VERSIONDATE=20170409
#export VERSION=snapshot-20170410-1038-stable
#export VERSIONDATE=20170410
#export VERSION=snapshot-20170410-2245-stable
#export VERSIONDATE=20170411
#export VERSION=snapshot-20170411-2245-stable
#export VERSIONDATE=20170412
#export VERSION=snapshot-20170412-2245-stable
#export VERSIONDATE=20170413
#export VERSION=snapshot-20170413-2245-stable
#export VERSIONDATE=20170414
#export VERSION=snapshot-20170414-2245-stable
#export VERSIONDATE=20170415
#export VERSION=snapshot-20170415-2245-stable
#export VERSIONDATE=20170416
#export VERSION=snapshot-20170416-2245-stable
#export VERSIONDATE=20170417
#export VERSION=snapshot-20170417-2245-stable
#export VERSIONDATE=20170418
#export VERSION=snapshot-20170418-2245-stable
#export VERSIONDATE=20170419
#export VERSION=snapshot-20170419-2245-stable
#export VERSIONDATE=20170420
#export VERSION=snapshot-20170420-2245-stable
#export VERSIONDATE=20170421
#export VERSION=snapshot-20170421-2245-stable
#export VERSIONDATE=20170422
#export VERSION=snapshot-20170422-2245-stable
#export VERSIONDATE=20170423
#export VERSION=snapshot-20170423-2245-stable
#export VERSIONDATE=20170424
#export VERSION=snapshot-20170424-2245-stable
#export VERSIONDATE=20170425
#export VERSION=snapshot-20170425-2245-stable
#export VERSIONDATE=20170426
#export VERSION=snapshot-20170426-2245-stable
#export VERSIONDATE=20170427
#export VERSION=snapshot-20170427-2245-stable
#export VERSIONDATE=20170428
#export VERSION=snapshot-20170428-2245-stable
#export VERSIONDATE=20170429
#export VERSION=snapshot-20170429-2245-stable
#export VERSIONDATE=20170430
#export VERSION=snapshot-20170430-2245-stable
#export VERSIONDATE=20170501
#export VERSION=snapshot-20170501-2245-stable
#export VERSIONDATE=20170502
#export VERSION=snapshot-20170502-2245-stable
#export VERSIONDATE=20170503
#export VERSION=snapshot-20170503-2245-stable
#export VERSIONDATE=20170504
#export VERSION=snapshot-20170504-2245-stable
#export VERSIONDATE=20170505
#export VERSION=snapshot-20170505-2245-stable
#export VERSIONDATE=20170506
#export VERSION=snapshot-20170507-2245-stable
#export VERSIONDATE=20170508
#export VERSION=snapshot-20170508-2245-stable
#export VERSIONDATE=20170509
#export VERSION=snapshot-20170509-2245-stable
#export VERSIONDATE=20170510
#export VERSION=snapshot-20170510-2245-stable
#export VERSIONDATE=20170511
#export VERSION=snapshot-20170511-2245-stable
#export VERSIONDATE=20170512
#export VERSION=snapshot-20170512-2245-stable
#export VERSIONDATE=20170513
#export VERSION=snapshot-20170513-2245-stable
#export VERSIONDATE=20170514
#export VERSION=snapshot-20170514-2245-stable
#export VERSIONDATE=20170515
#export VERSION=snapshot-20170515-2245-stable
#export VERSIONDATE=20170516
#export VERSION=snapshot-20170516-2245-stable
#export VERSIONDATE=20170517
#export VERSION=snapshot-20170517-2245-stable
#export VERSIONDATE=20170518
#export VERSION=snapshot-20170518-2245-stable
#export VERSIONDATE=20170519
#export VERSION=snapshot-20170519-2245-stable
#export VERSIONDATE=20170520
#export VERSION=snapshot-20170521-2245-stable
#export VERSIONDATE=20170522
#export VERSION=snapshot-20170522-2245-stable
#export VERSIONDATE=20170523
#export VERSION=snapshot-20170523-2245-stable
#export VERSIONDATE=20170524
#export VERSION=snapshot-20170524-2245-stable
#export VERSIONDATE=20170525
#export VERSION=snapshot-20170525-2245-stable
#export VERSIONDATE=20170526
#export VERSION=snapshot-20170526-2245-stable
#export VERSIONDATE=20170527
#export VERSION=snapshot-20170527-2245-stable
#export VERSIONDATE=20170528
#export VERSION=snapshot-20170528-2245-stable
#export VERSIONDATE=20170529
#export VERSION=snapshot-20170529-2245-stable
#export VERSIONDATE=20170530
#export VERSION=snapshot-20170530-2245-stable
#export VERSIONDATE=20170531
#export VERSION=snapshot-20170531-2245-stable
#export VERSIONDATE=20170601
#export VERSION=snapshot-20170601-2245-stable
#export VERSIONDATE=20170602
#export VERSION=snapshot-20170602-2245-stable
#export VERSIONDATE=20170603
#export VERSION=snapshot-20170603-2245-stable
#export VERSIONDATE=20170604
#export VERSION=snapshot-20170604-2245-stable
#export VERSIONDATE=20170605
#export VERSION=snapshot-20170605-2245-stable
#export VERSIONDATE=20170606
#export VERSION=snapshot-20170606-2245-stable
#export VERSIONDATE=20170607
#export VERSION=snapshot-20170607-2245-stable
#export VERSIONDATE=20170608
#export VERSION=snapshot-20170608-2245-stable
#export VERSIONDATE=20170609
#export VERSION=snapshot-20170609-2245-stable
#export VERSIONDATE=20170610
#export VERSION=snapshot-20170610-2245-stable
#export VERSIONDATE=20170611
#export VERSION=snapshot-20170611-2245-stable
#export VERSIONDATE=20170612
#export VERSION=snapshot-20170612-2245-stable
#export VERSIONDATE=20170613
#export VERSION=snapshot-20170613-2245-stable
#export VERSIONDATE=20170614
#export VERSION=snapshot-20170614-2245-stable
#export VERSIONDATE=20170615
#export VERSION=snapshot-20170615-2245-stable
#export VERSIONDATE=20170616
#export VERSION=snapshot-20170616-2245-stable
#export VERSIONDATE=20170617
#export VERSION=snapshot-20170617-2245-stable
#export VERSIONDATE=20170618
#export VERSION=snapshot-20170618-2245-stable
#export VERSIONDATE=20170619
#export VERSION=snapshot-20170619-2245-stable
#export VERSIONDATE=20170620
#export VERSION=snapshot-20170620-2245-stable
#export VERSIONDATE=20170621
#export VERSION=snapshot-20170621-2245-stable
#export VERSIONDATE=20170622
#export VERSION=snapshot-20170622-2245-stable
#export VERSIONDATE=20170623
#export VERSION=snapshot-20170623-2245-stable
#export VERSIONDATE=20170624
#export VERSION=snapshot-20170624-2245-stable
#export VERSIONDATE=20170625
#export VERSION=snapshot-20170625-2245-stable
#export VERSIONDATE=20170626
#export VERSION=snapshot-20170626-2245-stable
#export VERSIONDATE=20170627
#export VERSION=snapshot-20170627-2245-stable
#export VERSIONDATE=20170628
#export VERSION=snapshot-20170628-2245-stable
#export VERSIONDATE=20170629
#export VERSION=snapshot-20170629-2245-stable
#export VERSIONDATE=20170630
#export VERSION=snapshot-20170630-2245-stable
#export VERSIONDATE=20170701
#export VERSION=snapshot-20170701-2245-stable
#export VERSIONDATE=20170702
#export VERSION=snapshot-20170702-2245-stable
#export VERSIONDATE=20170703
#export VERSION=snapshot-20170703-2245-stable
#export VERSIONDATE=20170704
#export VERSION=snapshot-20170704-2245-stable
#export VERSIONDATE=20170705
#export VERSION=snapshot-20170705-2245-stable
#export VERSIONDATE=20170706
#export VERSION=snapshot-20170706-2245-stable
#export VERSIONDATE=20170707
#export VERSION=snapshot-20170707-2245-stable
#export VERSIONDATE=20170708
#export VERSION=snapshot-20170708-2245-stable
#export VERSIONDATE=20170709
#export VERSION=snapshot-20170709-2245-stable
#export VERSIONDATE=20170710
#export VERSION=snapshot-20170710-2245-stable
#export VERSIONDATE=20170711
#export VERSION=snapshot-20170711-2245-stable
#export VERSIONDATE=20170712
#export VERSION=snapshot-20170712-2245-stable
#export VERSIONDATE=20170713
#export VERSION=snapshot-20170713-2245-stable
#export VERSIONDATE=20170714
#export VERSION=snapshot-20170714-2245-stable
#export VERSIONDATE=20170715
#export VERSION=snapshot-20170716-2245-stable
#export VERSIONDATE=20170717
#export VERSION=snapshot-20170717-2245-stable
#export VERSIONDATE=20170718
#export VERSION=snapshot-20170718-2245-stable
#export VERSIONDATE=20170719
#export VERSION=snapshot-20170719-2245-stable
#export VERSIONDATE=20170720
#export VERSION=snapshot-20170723-2245-stable
#export VERSIONDATE=20170724
#export VERSION=snapshot-20170724-2245-stable
#export VERSIONDATE=20170725
#export VERSION=snapshot-20170725-2245-stable
#export VERSIONDATE=20170726
#export VERSION=snapshot-20170726-2245-stable
#export VERSIONDATE=20170727
#export VERSION=snapshot-20170727-2245-stable
#export VERSIONDATE=20170728
#export VERSION=snapshot-20170813-2245-stable
#export VERSIONDATE=20170814
#export VERSION=snapshot-20170815-2245-stable
#export VERSIONDATE=20170816
#export VERSION=snapshot-20170816-2245-stable
#export VERSIONDATE=20170817
#export VERSION=snapshot-20170817-2245-stable
#export VERSIONDATE=20170818
#export VERSION=snapshot-20170818-2245-stable
#export VERSIONDATE=20170819
#export VERSION=snapshot-20170819-2245-stable
#export VERSIONDATE=20170820
#export VERSION=snapshot-20170820-2245-stable
#export VERSIONDATE=20170821
#export VERSION=snapshot-20170821-2245-stable
#export VERSIONDATE=20170822
#export VERSION=snapshot-20170822-2245-stable
#export VERSIONDATE=20170823
#export VERSION=snapshot-20170826-2245-stable
#export VERSIONDATE=20170827
#export VERSION=snapshot-20170827-2245-stable
#export VERSIONDATE=20170828
#export VERSION=snapshot-20170828-2245-stable
#export VERSIONDATE=20170829
#export VERSION=snapshot-20170830-2245-stable
#export VERSIONDATE=20170831
#export VERSION=snapshot-20170831-2245-stable
#export VERSIONDATE=20170901
#export VERSION=snapshot-20170901-2245-stable
#export VERSIONDATE=20170902
#export VERSION=snapshot-20170905-2245-stable
#export VERSIONDATE=20170906
#export VERSION=snapshot-20170908-2245-stable
#export VERSIONDATE=20170909
#export VERSION=snapshot-20170913-2245-stable
#export VERSIONDATE=20170914
#export VERSION=snapshot-20170914-2245-stable
#export VERSIONDATE=20170915
#export VERSION=snapshot-20170917-2245-stable
#export VERSIONDATE=20170918
#export VERSION=snapshot-20170920-2245-stable
#export VERSIONDATE=20170921
#export VERSION=snapshot-20170922-2245-stable
#export VERSIONDATE=20170923
#export VERSION=snapshot-20170926-2245-stable
#export VERSIONDATE=20170927
#export VERSION=snapshot-20170927-2245-stable
#export VERSIONDATE=20170928
#export VERSION=snapshot-20171003-2245-stable
#export VERSIONDATE=20171004
#export VERSION=snapshot-20171004-2245-stable
#export VERSIONDATE=20171005
#export VERSION=snapshot-20171008-2245-stable
#export VERSIONDATE=20171009
#export VERSION=snapshot-20171010-2245-stable
#export VERSIONDATE=20171011
#export VERSION=snapshot-20171013-2245-stable
#export VERSIONDATE=20171014
#export VERSION=snapshot-20171015-2245-stable
#export VERSIONDATE=20171016
#export VERSION=snapshot-20171018-2245-stable
#export VERSIONDATE=20171019
#export VERSION=snapshot-20171025-2245-stable
#export VERSIONDATE=20171026
#export VERSION=snapshot-20171103-2245-stable
#export VERSIONDATE=20171104
#export VERSION=snapshot-20171106-2245-stable
#export VERSIONDATE=20171107
#export VERSION=snapshot-20171108-2245-stable
#export VERSIONDATE=20171109
#export VERSION=snapshot-20171116-2245-stable
#export VERSIONDATE=20171117
#export VERSION=snapshot-20171127-2245-stable
#export VERSIONDATE=20171128
#export VERSION=snapshot-20171130-2245-stable
#export VERSIONDATE=20171201
#export VERSION=snapshot-20171203-2245-stable
#export VERSIONDATE=20171204
#export VERSION=snapshot-20171211-2245-stable
#export VERSIONDATE=20171212
#export VERSION=snapshot-20171215-2245-stable
#export VERSIONDATE=20171216
#export VERSION=snapshot-20171221-2245-stable
#export VERSIONDATE=20171222
#export VERSION=snapshot-20171228-2245-stable
#export VERSIONDATE=20171229
#export VERSION=snapshot-20171231-2245-stable
#export VERSIONDATE=20180101
#export VERSION=snapshot-20180125-2245
#export VERSIONDATE=20180126
#export VERSION=snapshot-20180203-2245
#export VERSIONDATE=20180204
#export VERSION=snapshot-20180302-2245
#export VERSIONDATE=20180303
#export VERSION=snapshot-20180331-2245
#export VERSIONDATE=20180401
#export VERSION=snapshot-20180414-2245
#export VERSIONDATE=20180415
#export VERSION=snapshot-20180427-2245
#export VERSIONDATE=20180427
#export VERSION=snapshot-20180522-2245
#export VERSIONDATE=20180523
#export VERSION=snapshot-20180615-2245
#export VERSIONDATE=20180616
#export VERSION=snapshot-20180818-2245
#export VERSIONDATE=20180819
#export VERSION=snapshot-20180901-2245
#export VERSIONDATE=20180902
#export VERSION=snapshot-20181016-2245
#export VERSIONDATE=20181017
#export VERSION=snapshot-20181030-2245
#export VERSIONDATE=20181031
#export VERSION=snapshot-20181117-2245
#export VERSIONDATE=20181118
#export VERSION=snapshot-20181207-2245
#export VERSIONDATE=20181208
#export VERSION=snapshot-20181226-2245
#export VERSIONDATE=20181227
#export VERSION=snapshot-20190125-2245
#export VERSIONDATE=20190126
#export VERSION=snapshot-20190220-2245
#export VERSIONDATE=20190221
#export VERSION=snapshot-20190331-2245
#export VERSIONDATE=20190401
#export VERSION=snapshot-20190412-2245
#export VERSIONDATE=20190413
#export VERSION=snapshot-20190518-2245
#export VERSIONDATE=20190519
#export VERSION=snapshot-20190606-2245
#export VERSIONDATE=20190608
#export VERSION=snapshot-20190629-2245
#export VERSIONDATE=20190630
#export VERSION=snapshot-20190802-2245
#export VERSIONDATE=20190803
#export VERSION=snapshot-20190907-2245
#export VERSIONDATE=20190908
#export VERSION=snapshot-20191025-2245
#export VERSIONDATE=20191026
export VERSION=snapshot-20191110-2245
export VERSIONDATE=20191111
wl-showstatus --package-version
export DEPENDENCIES=pthreads
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=
export OPTIONALBUILDDEPENDENCIES=
export LICENSEFILE=COPYING
export LICENSETYPE=GPL2
#export DOWNLOADURL=""
export DOWNLOADURL="http://download.videolan.org/pub/videolan/x264/snapshots/ x264-snapshot- -stable.tar.bz2 "
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
export DOWNLOADSOURCEURL=http://download.videolan.org/pub/videolan/x264/snapshots/x264-$VERSION.tar.bz2
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
tar xfj $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.bz2
cd $BASENAME-$VERSION
# fix conflicting definition of DllMain in x264dll.c
patch -ulbf x264dll.c << EOF
--- x264dll.c  2013-11-17 19:59:24 +0100
+++ x264dll.c  2013-11-17 19:59:44 +0100
@@ -29,3 +29,3 @@
 /* Callback for our DLL so we can initialize pthread */
-BOOL WINAPI DllMain( HANDLE hinstDLL, DWORD fdwReason, LPVOID lpvReserved )
+BOOL WINAPI DllMain( HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved )
 {
EOF
# fix missing /bin/bash
mv version.sh version.sh.bak
echo '#!/bin/sh' > version.sh
cat version.sh.bak >> version.sh
# fix invalid link option -Wl,--large-address-aware on 64-bit
if ( echo $RUNPLATFORM | grep -q x86_64 ); then
 mv configure configure.bak
 sed -e "s/-Wl,--large-address-aware//" configure.bak > configure
fi
wl-showstatus configure &&
 ####common/frame.o:frame.c:(.text+0x382e): undefined reference to `__sync_fetch_and_add_4'
 #make clean; make CC="${CC:-gcc} -march=i686" && echo OK
 #sh ./configure --prefix=$INSTALLPREFIX --host=$RUNPLATFORM --enable-shared --disable-asm &&
 sh ./configure --prefix=$INSTALLPREFIX --host=$RUNPLATFORM --enable-static --enable-shared --disable-asm --enable-strip &&
 wl-showstatus build-install &&
 make all install &&
 wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION
####Warning: PIX_FMT_RGB is missing from libavutil, update for swscale support
####Warning: libavformat is not supported without swscale support



