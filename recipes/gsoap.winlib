export NAME="gSOAP"
export STATUS=
export URL=https://www.genivia.com/dev.html
export BASENAME=gsoap
export DESCRIPTION="As developers ourselves, we fully understand the demands and challenges to implement modern Web services and REST APIs that must be fast, rock-solid robust, and super secure. The gSOAP toolkit allows C/C++ developers to focus on application logic instead of infrastructure, resulting in reduced development time, fewer bugs, and faster time to market."
export CATEGORY=communication,dataprocessing
export TYPE=library
#export VERSION=2.8.114
#export VERSIONDATE=20210623
#export VERSION=2.8.115
#export VERSIONDATE=20210626
#export VERSION=2.8.116
#export VERSIONDATE=20210710
#export VERSION=2.8.117
#export VERSIONDATE=20210820
#export VERSION=2.8.118
#export VERSIONDATE=20211224
#export VERSION=2.8.119
#export VERSIONDATE=20220206
#export VERSION=2.8.120
#export VERSIONDATE=20220308
export VERSION=2.8.121
export VERSIONDATE=20220407
wl-showstatus --package-version
export DEPENDANCIES=zlib,gnutls
export OPTIONALDEPENDANCIES=
export BUILDDEPENDANCIES=
export LICENSEFILE=LICENSE.txt
export LICENSETYPE="gSOAP Public License/GPL/Commercial"
#export DOWNLOADURL="https://www.genivia.com/downloads.html"
export DOWNLOADURL="https://sourceforge.net/projects/gsoap2/files/"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
#export DOWNLOADSOURCEURL=https://www.genivia.com/thanks.html?download=gsoap-$VERSION.zip
export DOWNLOADSOURCEURL=https://downloads.sourceforge.net/project/gsoap2/gsoap_$VERSION.zip
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
wl-showstatus extract
unzip -oq $TARBALLDIR/$BASENAME/gsoap_$VERSION.zip
cd $BASENAME-$(echo $VERSION|sed -e "s/^\([0-9]*\.[0-9]*\)\..*$/\1/")
wl-showstatus configure &&
 #mkdir -p m4 &&
 #autoreconf -f -i -I m4 -I $MINGWPREFIX/share/aclocal &&
 ./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM --enable-gnutls --disable-samples &&
 #CFLAGS="-DSOAP_STD_EXPORTS" 
 wl-showstatus build-install &&
 make install-strip &&
 wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$(echo $VERSION|sed -e "s/^\([0-9]*\.[0-9]*\)\..*$/\1/")
####TO DO: also build shared libraries



