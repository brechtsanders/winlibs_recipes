export NAME="hwdata"
export STATUS=
#export URL=https://admin.fedoraproject.org/pkgdb/acls/name/hwdata?_csrf_token=f89cecdee9918366b42e8fc21c18cd5f5852ee29
export URL=https://github.com/vcrhonek/hwdata
export BASENAME=hwdata
#export DESCRIPTION="hwdata contains various hardware identification and configuration data, such as the pci.ids database and MonitorsDb databases."
export DESCRIPTION="hwdata contains various hardware identification and configuration data, such as the pci.ids and usb.ids databases."
export CATEGORY=hardware
export TYPE=library
#export VERSION=0.123
#export VERSIONDATE=20110725
#export VERSION=0.227
#export VERSIONDATE=20110725
#export VERSION=0.232
#export VERSIONDATE=20110725
#export VERSION=0.234
#export VERSIONDATE=20111215
#export VERSION=0.238
#export VERSIONDATE=20120911
#export VERSION=0.252-8.8
#export VERSIONDATE=20180220
#export VERSION=0.252-8.9
#export VERSIONDATE=20180614
#export VERSION=0.252-9.2
#export VERSIONDATE=20190306
#export VERSION=0.252-9.3
#export VERSIONDATE=20190627
#export VERSION=0.252-9.4
#export VERSIONDATE=20190806
#export VERSION=0.252-9.5
#export VERSIONDATE=20200212
#export VERSION=0.252-9.6
#export VERSIONDATE=20200323
#export VERSION=0.252-9.7
#export VERSIONDATE=20200713
####Don't know where to download tarball
#export VERSION=0.308
#export VERSIONDATE=20180117
#export VERSION=0.309
#export VERSIONDATE=20180205
#export VERSION=0.310
#export VERSIONDATE=20180305
#export VERSION=0.311
#export VERSIONDATE=20180403
#export VERSION=0.312
#export VERSIONDATE=20180502
#export VERSION=0.313
#export VERSIONDATE=20180702
#export VERSION=0.314
#export VERSIONDATE=20180802
#export VERSION=0.314-8.0
#export VERSIONDATE=20190225
#export VERSION=0.314-8.1
#export VERSIONDATE=20190528
#export VERSION=0.314-8.2
#export VERSIONDATE=20191029
#export VERSION=0.314-8.3
#export VERSIONDATE=20191125
#export VERSION=0.314-8.4
#export VERSIONDATE=20200318
#export VERSION=0.314-8.5
#export VERSIONDATE=20200608
#export VERSION=0.314-8.6
#export VERSIONDATE=20200921
#export VERSION=0.314-8.7
#export VERSIONDATE=20210107
#export VERSION=0.314-8.8
#export VERSIONDATE=20210208
#export VERSION=0.315
#export VERSIONDATE=20180904
#export VERSION=0.316
#export VERSIONDATE=20181001
#export VERSION=0.317
#export VERSIONDATE=20181101
#export VERSION=0.318
#export VERSIONDATE=20181203
#export VERSION=0.319
#export VERSIONDATE=20190102
#export VERSION=0.320
#export VERSIONDATE=20190205
#export VERSION=0.321
#export VERSIONDATE=20190305
#export VERSION=0.322
#export VERSIONDATE=20190402
#export VERSION=0.323
#export VERSIONDATE=20190502
#export VERSION=0.324
#export VERSIONDATE=20190603
#export VERSION=0.325
#export VERSIONDATE=20190627
#export VERSION=0.326
#export VERSIONDATE=20190801
#export VERSION=0.327
#export VERSIONDATE=20190903
#export VERSION=0.328
#export VERSIONDATE=20191001
#export VERSION=0.329
#export VERSIONDATE=20191104
#export VERSION=0.330
#export VERSIONDATE=20191202
#export VERSION=0.331
#export VERSIONDATE=20200102
#export VERSION=0.332
#export VERSIONDATE=20200203
#export VERSION=0.333
#export VERSIONDATE=20200302
#export VERSION=0.334
#export VERSIONDATE=20200401
#export VERSION=0.335
#export VERSIONDATE=20200505
#export VERSION=0.336
#export VERSIONDATE=20200601
#export VERSION=0.337
#export VERSIONDATE=20200702
#export VERSION=0.338
#export VERSIONDATE=20200804
#export VERSION=0.339
#export VERSIONDATE=20200901
#export VERSION=0.340
#export VERSIONDATE=20201005
#export VERSION=0.341
#export VERSIONDATE=20201103
#export VERSION=0.342
#export VERSIONDATE=20201201
#export VERSION=0.343
#export VERSIONDATE=20210106
#export VERSION=0.344
#export VERSIONDATE=20210201
#export VERSION=0.345
#export VERSIONDATE=20210301
#export VERSION=0.346
#export VERSIONDATE=20210401
#export VERSION=0.347
#export VERSIONDATE=20210503
#export VERSION=0.348
#export VERSIONDATE=20210602
#export VERSION=0.349
#export VERSIONDATE=20210707
#export VERSION=0.350
#export VERSIONDATE=20210802
#export VERSION=0.351
#export VERSIONDATE=20210901
#export VERSION=0.352
#export VERSIONDATE=20211005
#export VERSION=0.353
#export VERSIONDATE=20211104
#export VERSION=0.354
#export VERSIONDATE=20211203
#export VERSION=0.355
#export VERSIONDATE=20220103
#export VERSION=0.356
#export VERSIONDATE=20220203
#export VERSION=0.357
#export VERSIONDATE=20220303
#export VERSION=0.358
#export VERSIONDATE=20220404
#export VERSION=0.359
#export VERSIONDATE=20220502
#export VERSION=0.360
#export VERSIONDATE=20220601
#export VERSION=0.361
#export VERSIONDATE=20220704
#export VERSION=0.362
#export VERSIONDATE=20220907
#export VERSION=0.363
#export VERSIONDATE=20221003
#export VERSION=0.364
#export VERSIONDATE=20221101
#export VERSION=0.365
#export VERSIONDATE=20221202
#export VERSION=0.366
#export VERSIONDATE=20230104
#export VERSION=0.367
#export VERSIONDATE=20230202
#export VERSION=0.368
#export VERSIONDATE=20230302
#export VERSION=0.369
#export VERSIONDATE=20230403
#export VERSION=0.370
#export VERSIONDATE=20230502
#export VERSION=0.371
#export VERSIONDATE=20230601
#export VERSION=0.372
#export VERSIONDATE=20230703
#export VERSION=0.373
#export VERSIONDATE=20230803
#export VERSION=0.374
#export VERSIONDATE=20230905
#export VERSION=0.375
#export VERSIONDATE=20231003
#export VERSION=0.376
#export VERSIONDATE=20231103
#export VERSION=0.377
#export VERSIONDATE=20231204
#export VERSION=0.378
#export VERSIONDATE=20240105
#export VERSION=0.379
#export VERSIONDATE=20240206
#export VERSION=0.380
#export VERSIONDATE=20240305
#export VERSION=0.381
#export VERSIONDATE=20240404
#export VERSION=0.382
#export VERSIONDATE=20240503
#export VERSION=0.383
#export VERSIONDATE=20240531
#export VERSION=0.384
#export VERSIONDATE=20240704
#export VERSION=0.385
#export VERSIONDATE=20240806
#export VERSION=0.386
#export VERSIONDATE=20240903
#export VERSION=0.387
#export VERSIONDATE=20240905
#export VERSION=0.388
#export VERSIONDATE=20241002
#export VERSION=0.389
#export VERSIONDATE=20241104
#export VERSION=0.390
#export VERSIONDATE=20241203
#export VERSION=0.391
#export VERSIONDATE=20250103
#export VERSION=0.392
#export VERSIONDATE=20250204
#export VERSION=0.393
#export VERSIONDATE=20250304
#export VERSION=0.394
#export VERSIONDATE=20250402
#export VERSION=0.395
#export VERSIONDATE=20250507
#export VERSION=0.396
#export VERSIONDATE=20250603
#export VERSION=0.397
#export VERSIONDATE=20250702
export VERSION=0.398
export VERSIONDATE=20250804
wl-showstatus --package-version
export DEPENDENCIES=
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=
export OPTIONALBUILDDEPENDENCIES=
export LICENSEFILE=LICENSE
export LICENSETYPE="GPL/XFree86"
#export DOWNLOADURL="http://debian-knoppix.alioth.debian.org/packages/sources/hwdata-knoppix/"
#export DOWNLOADURL="http://kojipkgs.fedoraproject.org/packages/hwdata/"
#export DOWNLOADURL="https://launchpad.net/ubuntu/maverick/+source/hwdata/"
export DOWNLOADURL="https://github.com/vcrhonek/hwdata/releases"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
#export DOWNLOADSOURCEURL=http://tx-us.lunar-linux.org/lunar/mirrors/$BASENAME-$VERSION.tar.gz
#export DOWNLOADSOURCEURL=https://launchpad.net/ubuntu/maverick/+source/hwdata/0.227-1/+files/hwdata_0.227.orig.tar.gz
#export DOWNLOADSOURCEURL=https://api.opensuse.org/public/source/systemsmanagement:spacewalk/hwdata/hwdata-0.234.tar.bz2?rev=f7882c8b2ef9c34a68713ecef376d832&
export DOWNLOADSOURCEURL=https://github.com/vcrhonek/hwdata/archive/v$VERSION.tar.gz
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
#mv $TARBALLDIR/$BASENAME/v$VERSION.tar.gz $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.gz
wl-wait4deps
#tar xz --force-local -f $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.gz || tar xz --force-local -f $TARBALLDIR/$BASENAME/$BASENAME\_$VERSION.orig.tar.gz
#tar xj --force-local -f $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.bz2
#tar xz --force-local -f $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.gz
tar xz --force-local -f $TARBALLDIR/$BASENAME/v$VERSION.tar.gz
cd $BASENAME-$VERSION
#mv pcilint.c pcilint.c.bak
#echo "#include <string.h>" > pcilint.c
#cat pcilint.c.bak >> pcilint.c
#make pcilint
# fix hwdata.pc.in (version >= 0.366)
patch -ulbf hwdata.pc.in << EOF
@@ -2,3 +2,3 @@
 datadir=@datadir@
-pkgdatadir=\${pc_sysrootdir}@pkgdatadir@
+pkgdatadir=\${prefix}@pkgdatadir@

EOF
wl-showstatus configure &&
 ./configure &&
 #./configure --prefix=$INSTALLPREFIX &&
 wl-showstatus build &&
 make &&
 wl-showstatus build-install &&
 #make install DESTDIR=$INSTALLPREFIX prefix=$INSTALLPREFIX &&
 make install DESTDIR=$INSTALLPREFIX prefix=$INSTALLPREFIX bindir=/bin sbindir=/sbin libexecdir=/libexec datarootdir=/share datadir=/share sysconfdir=/etc libdir=/lib mandir=/share/man &&
 wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION



