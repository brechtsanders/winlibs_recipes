export NAME="Empathy"
export STATUS=
export URL=http://live.gnome.org/Empathy
export BASENAME=empathy
export DESCRIPTION="Empathy is a messaging program which supports text, voice, and video chat and file transfers over many different protocols. You can tell it about your accounts on all those services and do all your chatting within one application."
export CATEGORY=communication
export TYPE=library
#export VERSION=2.33.4
#export VERSIONDATE=20110316
#export VERSION=2.34.0
#export VERSIONDATE=20110324
####No package 'telepathy-yell' found
#export VERSION=3.0.0
#export VERSIONDATE=20110404
#export VERSION=3.0.1
#export VERSIONDATE=20110426
#export VERSION=3.0.2
#export VERSIONDATE=20110613
#export VERSION=3.1.1
#export VERSIONDATE=20110509
#export VERSION=3.1.2
#export VERSIONDATE=20110613
#export VERSION=3.1.2.1
#export VERSIONDATE=20110614
#export VERSION=3.1.3
#export VERSIONDATE=20110711
#export VERSION=3.1.4
#export VERSIONDATE=20110726
#export VERSION=3.1.5
#export VERSIONDATE=20110816
#export VERSION=3.1.5.1
#export VERSIONDATE=20110822
#export VERSION=3.2.0
#export VERSIONDATE=20110926
#export VERSION=3.2.0.1
#export VERSIONDATE=20111010
#export VERSION=3.2.1
#export VERSIONDATE=20111017
#export VERSION=3.2.1.1
#export VERSIONDATE=20111024
#export VERSION=3.2.1.2
#export VERSIONDATE=20111108
#export VERSION=3.2.2
#export VERSIONDATE=20111114
#export VERSION=3.3.1
#export VERSIONDATE=20111025
#export VERSION=3.3.2
#export VERSIONDATE=20111121
#export VERSION=3.3.4
#export VERSIONDATE=20120116
#export VERSION=3.3.5
#export VERSIONDATE=20120207
#export VERSION=3.3.90
#export VERSIONDATE=20120221
#export VERSION=3.3.90.1
#export VERSIONDATE=20120224
#export VERSION=3.3.90.2
#export VERSIONDATE=20120302
#export VERSION=3.3.91
#export VERSIONDATE=20120306
#export VERSION=3.3.92
#export VERSIONDATE=20120320
#export VERSION=3.4.0
#export VERSIONDATE=20120326
#export VERSION=3.4.0.2
#export VERSIONDATE=20120407
####Requested 'folks >= 0.6.2' but version of Folks is 0.4.3
####Requested 'folks-telepathy >= 0.6.2' but version of Folks Telepathy support library is 0.4.3
####No package 'libpulse' found
####No package 'libpulse-mainloop-glib' found
####No package 'webkitgtk-3.0' found
#export VERSION=3.4.1
#export VERSIONDATE=20120416
#export VERSION=3.4.2
#export VERSIONDATE=20120514
#export VERSION=3.4.2.1
#export VERSIONDATE=20120521
#export VERSION=3.4.2.3
#export VERSIONDATE=20120627
#export VERSION=3.5.1
#export VERSIONDATE=20120501
#export VERSION=3.5.2
#export VERSIONDATE=20120605
####Requested 'folks >= 0.6.6' but version of Folks is 0.4.3
####Requested 'folks-telepathy >= 0.6.6' but version of Folks Telepathy support library is 0.4.3
####No package 'libpulse' found
####No package 'libpulse-mainloop-glib' found
####No package 'webkitgtk-3.0' found
#export VERSION=3.5.3
#export VERSIONDATE=20120626
#export VERSION=3.5.4
#export VERSIONDATE=20120717
#export VERSION=3.5.4.1
#export VERSIONDATE=20120724
#export VERSION=3.5.5
#export VERSIONDATE=20120807
#export VERSION=3.5.91
#export VERSIONDATE=20120904
#export VERSION=3.5.91.1
#export VERSIONDATE=20120907
#export VERSION=3.5.92
#export VERSIONDATE=20120917
####No package 'egg-list-box' found
#export VERSION=3.6.0
#export VERSIONDATE=20120927
#export VERSION=3.6.0.1
#export VERSIONDATE=20121003
#export VERSION=3.6.0.3
#export VERSIONDATE=20121008
#export VERSION=3.6.1
#export VERSIONDATE=20121016
#export VERSION=3.6.2
#export VERSIONDATE=20121114
#export VERSION=3.6.3
#export VERSIONDATE=20130109
#export VERSION=3.6.4
#export VERSIONDATE=20130311
#export VERSION=3.7.2
#export VERSIONDATE=20121122
#export VERSION=3.7.3
#export VERSIONDATE=20121218
#export VERSION=3.7.4
#export VERSIONDATE=20130116
#export VERSION=3.7.5
#export VERSIONDATE=20130205
#export VERSION=3.8.0
#export VERSIONDATE=20130326
#export VERSION=3.8.1
#export VERSIONDATE=20130416
#export VERSION=3.8.2
#export VERSIONDATE=20130520
#export VERSION=3.8.3
#export VERSIONDATE=20130524
#export VERSION=3.8.4
#export VERSIONDATE=20130909
#export VERSION=3.8.5
#export VERSIONDATE=20131111
export VERSION=3.8.6
export VERSIONDATE=20131115
#export VERSION=3.9.1
#export VERSIONDATE=20130503
#export VERSION=3.9.2
#export VERSIONDATE=20130529
#export VERSION=3.9.3
#export VERSIONDATE=20130617
#export VERSION=3.9.4
#export VERSIONDATE=20130709
#export VERSION=3.10.0
#export VERSIONDATE=20130925
#export VERSION=3.10.1
#export VERSIONDATE=20131014
#export VERSION=3.10.2
#export VERSIONDATE=20131111
#export VERSION=3.10.3
#export VERSIONDATE=20140107
#export VERSION=3.11.1
#export VERSIONDATE=20131101
#export VERSION=3.11.3
#export VERSIONDATE=20131219
#export VERSION=3.11.4
#export VERSIONDATE=20140120
#export VERSION=3.11.5
#export VERSIONDATE=20140203
#export VERSION=3.12.0
#export VERSIONDATE=20140324
#export VERSION=3.12.1
#export VERSIONDATE=20140418
#export VERSION=3.12.2
#export VERSIONDATE=20140514
#export VERSION=3.12.3
#export VERSIONDATE=20140612
#export VERSION=3.12.4
#export VERSIONDATE=20140624
#export VERSION=3.12.5
#export VERSIONDATE=20140812
#export VERSION=3.12.6
#export VERSIONDATE=20140912
####No package 'egg-list-box' found
#export VERSION=3.12.7
#export VERSIONDATE=20141014
#export VERSION=3.12.8
#export VERSIONDATE=20150316
#export VERSION=3.12.9
#export VERSIONDATE=20150416
#export VERSION=3.12.10
#export VERSIONDATE=20150513
#export VERSION=3.12.11
#export VERSIONDATE=20151014
#export VERSION=3.12.12
#export VERSIONDATE=20160514
#export VERSION=3.12.13
#export VERSIONDATE=20170314
#export VERSION=3.12.14
#export VERSIONDATE=20170827
####No package 'telepathy-account-widgets' found
wl-showstatus --package-version
export DEPENDANCIES=gnome-doc-utils,libfolks,telepathy-glib,telepathy-logger,telepathy-farsight,dbus-glib,gconf,gnome-keyring,gnutls,gstreamer,libxml2,libx11,telepathy-yell,pulseaudio,webkitgtk
export OPTIONALDEPENDANCIES=
export BUILDDEPENDANCIES=
export LICENSEFILE=COPYING
export LICENSETYPE=GPL
export DOWNLOADURL="http://ftp.gnome.org/pub/GNOME/sources/empathy/"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
#export DOWNLOADSOURCEURL=http://ftp.gnome.org/pub/gnome/sources/$BASENAME/`echo $VERSION|sed 's/^\([0-9]*\.[0-9]*\)\..*$/\1/'`/$BASENAME-$VERSION.tar.bz2
export DOWNLOADSOURCEURL=http://ftp.gnome.org/pub/gnome/sources/$BASENAME/`echo $VERSION|sed 's/^\([0-9]*\.[0-9]*\)\..*$/\1/'`/$BASENAME-$VERSION.tar.xz
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
#tar xfj $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.bz2
tar xfJ $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.xz
cd $BASENAME-$VERSION
# fix missing files
mkdir -p arpa sys netinet gio
echo "#include <winsock2.h>" > sys/socket.h
touch arpa/inet.h sys/un.h netinet/in.h
echo "#include <gio/gwin32inputstream.h>" > gio/gunixinputstream.h
#echo "#define g_unix_input_stream_new g_win32_input_stream_new" >> gio/gunixinputstream.h
echo "#include <gio/gwin32outputstream.h>" > gio/gunixoutputstream.h
#echo "#define g_unix_output_stream_new g_win32_output_stream_new" >> gio/gunixoutputstream.h
# remove gio-unix dependancy
mv configure configure.bak
sed -e "s/gio-unix/gio-windows/g" configure.bak > configure
wl-showstatus configure &&
#INTLTOOL_PERL="$PERLDIR/bin/perl.exe" PYTHON=$PYDIR/python.exe ./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM LDFLAGS="-no-undefined -Wl,-no-undefined" &&
INTLTOOL_PERL="$PERLDIR/bin/perl.exe" PYTHON=$PYDIR/python.exe ./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM LDFLAGS="-Wl,-no-undefined" &&
 wl-showstatus build-install &&
 make install-strip &&
    echo OK
####empathy-tp-file.c:313: warning: implicit declaration of function 'inet_pton'
# wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && rm -rf $BASENAME-$VERSION



