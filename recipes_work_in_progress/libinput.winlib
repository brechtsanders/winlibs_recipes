export NAME="libinput"
export STATUS=
export URL=https://www.freedesktop.org/wiki/Software/libinput/
export BASENAME=libinput
export DESCRIPTION="libinput is a library to handle input devices in Wayland compositors and to provide a generic X.Org input driver. It provides device detection, device handling, input device event processing and abstraction so minimize the amount of custom input code compositors need to provide the common set of functionality that users expect."
export CATEGORY=hardware
export TYPE=library
#export VERSION=1.2.4
#export VERSIONDATE=20160509
#export VERSION=1.3.0
#export VERSIONDATE=20160510
#export VERSION=1.3.1
#export VERSIONDATE=20160530
#export VERSION=1.3.2
#export VERSIONDATE=20160616
export VERSION=1.3.3
export VERSIONDATE=20160624
#export VERSION=1.4.0
#export VERSIONDATE=20160718
#export VERSION=1.4.1
#export VERSIONDATE=20160805
#export VERSION=1.4.2
#export VERSIONDATE=20160830
#export VERSION=1.4.3
#export VERSIONDATE=20160923
#export VERSION=1.5.0
#export VERSIONDATE=20160914
####configure: error: "EPOLL_CLOEXEC is needed to compile libinput"
#wl-showstatus --package-version
#export DEPENDENCIES=
#export VERSION=1.5.1
#export VERSIONDATE=20161111
#export VERSION=1.5.2
#export VERSIONDATE=20161125
#export VERSION=1.5.2
#export VERSIONDATE=20161207
#export VERSION=1.5.4
#export VERSIONDATE=20170113
#export VERSION=1.5.901
#export VERSIONDATE=20170110
#export VERSION=1.5.902
#export VERSIONDATE=20170116
#export VERSION=1.6.0
#export VERSIONDATE=20170120
#export VERSION=1.6.1
#export VERSIONDATE=20170202
#export VERSION=1.6.2
#export VERSIONDATE=20170222
#export VERSION=1.6.3
#export VERSIONDATE=20170308
#export VERSION=1.6.901
#export VERSIONDATE=20170223
#export VERSION=1.6.902
#export VERSIONDATE=20170310
#export VERSION=1.7.0
#export VERSIONDATE=20170323
#export VERSION=1.7.1
#export VERSIONDATE=20170425
#export VERSION=1.7.2
#export VERSIONDATE=20170505
#export VERSION=1.7.3
#export VERSIONDATE=20170609
#export VERSION=1.7.901
#export VERSIONDATE=20170619
#export VERSION=1.7.902
#export VERSIONDATE=20170626
#export VERSION=1.8.0
#export VERSIONDATE=20170703
#export VERSION=1.8.1
#export VERSIONDATE=20170719
#export VERSION=1.8.2
#export VERSIONDATE=20170907
#export VERSION=1.8.3
#export VERSIONDATE=20171004
#export VERSION=1.8.4
#export VERSIONDATE=20171030
#export VERSION=1.8.901
#export VERSIONDATE=20170927
#export VERSION=1.8.902
#export VERSIONDATE=20171010
####configure: error: Package requirements (mtdev >= 1.1.0) were not met: No package 'mtdev' found
#export VERSION=1.9.0
#export VERSIONDATE=20171019
#export VERSION=1.9.1
#export VERSIONDATE=20171030
#export VERSION=1.9.2
#export VERSIONDATE=20171115
#export VERSION=1.9.3
#export VERSIONDATE=20171128
#export VERSION=1.9.4
#export VERSIONDATE=20171214
#export VERSION=1.9.901
#export VERSIONDATE=20180122
#export VERSION=1.9.902
#export VERSIONDATE=20180206
#export VERSION=1.10.0
#export VERSIONDATE=20180213
#export VERSION=1.10.1
#export VERSIONDATE=20180228
#export VERSION=1.10.2
#export VERSIONDATE=20180307
#export VERSION=1.10.3
#export VERSIONDATE=20180314
#export VERSION=1.10.4
#export VERSIONDATE=20180409
#export VERSION=1.10.5
#export VERSIONDATE=20180419
#export VERSION=1.10.6
#export VERSIONDATE=20180501
#export VERSION=1.10.7
#export VERSIONDATE=20180517
#export VERSION=1.10.901
#export VERSIONDATE=20180522
#export VERSION=1.10.902
#export VERSIONDATE=20180530
#export VERSION=1.11.0
#export VERSIONDATE=20180604
#export VERSION=1.11.1
#export VERSIONDATE=20180619
#export VERSION=1.11.2
#export VERSIONDATE=20180703
#export VERSION=1.11.3
#export VERSIONDATE=20180725
#export VERSION=1.11.901
#export VERSIONDATE=20180730
#export VERSION=1.11.902
#export VERSIONDATE=20180814
#export VERSION=1.11.903
#export VERSIONDATE=20180904
#export VERSION=1.12.0
#export VERSIONDATE=20180911
#export VERSION=1.12.1
#export VERSIONDATE=20181003
#export VERSION=1.12.2
#export VERSIONDATE=20181024
#export VERSION=1.12.3
#export VERSIONDATE=20181107
#export VERSION=1.12.4
#export VERSIONDATE=20181218
#export VERSION=1.12.5
#export VERSIONDATE=20190107
#export VERSION=1.12.6
#export VERSIONDATE=20190121
#export VERSION=1.12.901
#export VERSIONDATE=20190314
#export VERSION=1.12.902
#export VERSIONDATE=20190321
#export VERSION=1.13.0
#export VERSIONDATE=20190329
#export VERSION=1.13.1
#export VERSIONDATE=20190412
#export VERSION=1.13.2
#export VERSIONDATE=20190509
#export VERSION=1.13.3
#export VERSIONDATE=20190624
#export VERSION=1.13.4
#export VERSIONDATE=20190628
#export VERSION=1.14.0
#export VERSIONDATE=20190808
#export VERSION=1.14.1
#export VERSIONDATE=20190826
#export VERSION=1.14.2
#export VERSIONDATE=20191017
#export VERSION=1.14.3
#export VERSIONDATE=20191028
#export VERSION=1.15.0
#export VERSIONDATE=20200103
#export VERSION=1.15.1
#export VERSIONDATE=20200203
#export VERSION=1.15.2
#export VERSIONDATE=20200220
#export VERSION=1.15.3
#export VERSIONDATE=20200306
#export VERSION=1.15.4
#export VERSIONDATE=20200318
#export VERSION=1.15.5
#export VERSIONDATE=20200411
####Native dependency 'libudev' not found
#export VERSION=1.16.0
#export VERSIONDATE=20200803
#export VERSION=1.16.1
#export VERSIONDATE=20200813
#export VERSION=1.16.2
#export VERSIONDATE=20201007
#export VERSION=1.16.3
#export VERSIONDATE=20201103
#export VERSION=1.16.4
#export VERSIONDATE=20201127
#export VERSION=1.16.5
#export VERSIONDATE=20210224
#export VERSION=1.16.901
#export VERSIONDATE=20210201
#export VERSION=1.16.902
#export VERSIONDATE=20210216
#export VERSION=1.17.0
#export VERSIONDATE=20210216
#export VERSION=1.17.1
#export VERSIONDATE=20210324
#export VERSION=1.17.2
#export VERSIONDATE=20210430
#export VERSION=1.17.3
#export VERSIONDATE=20210526
#export VERSION=1.18.0
#export VERSIONDATE=20210602
#export VERSION=1.18.1
#export VERSIONDATE=20210803
#export VERSION=1.18.2
#export VERSIONDATE=20220420
#export VERSION=1.18.901
#export VERSIONDATE=20210901
#export VERSION=1.19.0
#export VERSIONDATE=20210914
#export VERSION=1.19.1
#export VERSIONDATE=20210928
#export VERSION=1.19.2
#export VERSIONDATE=20211021
#export VERSION=1.19.3
#export VERSIONDATE=20211213
#export VERSION=1.19.4
#export VERSIONDATE=20220420
####un-time dependency mtdev found: NO (tried pkgconfig and cmake)
wl-showstatus --package-version
#export DEPENDENCIES=mtdev
export DEPENDENCIES=libudev-stub
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=
export OPTIONALBUILDDEPENDENCIES=
#export BUILDDEPENDENCIES=meson
#export OPTIONALBUILDDEPENDENCIES=
export LICENSEFILE=COPYING
export LICENSETYPE=
export DOWNLOADURL="https://www.freedesktop.org/software/libinput/"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
export DOWNLOADSOURCEURL=https://www.freedesktop.org/software/libinput/$BASENAME-$VERSION.tar.xz
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
wl-showstatus extract
tar xfJ $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.xz
cd $BASENAME-$VERSION
sed -i.bak -e "s/as_fn_error\(.*_CLOEXEC\)/echo\1/" configure
  ./configure --help
  head COPYING* LICENSE*
  ls -l COPYING* LICENSE* meson*
wl-showstatus configure &&
 autoreconf -f -i -I m4 -I $MINGWPREFIX/share/aclocal &&
 #./autogen.sh &&
 #    echo OK
 ## fix building DLLs on 64-bit
 #if ( echo $RUNPLATFORM | grep -q x86_64 ); then
 # echo "AM_GNU_GETTEXT_VERSION([$(gettext --version|head -n1|sed -e "s/^.* \([0-9\.]*\) *$/\1/")])" >> configure.ac &&
 # autoreconf -f -i -I m4 -I $MINGWPREFIX/share/aclocal
 #fi
 #INTLTOOL_PERL="$PERLDIR/bin/perl.exe" 
 #PERL="$PERLDIR/bin/perl.exe -I$PERLDIR/lib" 
 #PYTHON=$PYDIR/python.exe 
 #PYTHON=$PYDIR/python.exe C_INCLUDE_PATH=$PYDIR/include${C_INCLUDE_PATH:+:$C_INCLUDE_PATH} 
 #./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM LDFLAGS="-Wl,--as-needed -Wl,-no-undefined" &&
 #./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM LDFLAGS="-Wl,--as-needed" &&
 ./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM &&
 ## fix building DLLs
 #mv libtool libtool.bak &&
 #sed -e "s/\(allow_undefined=\)yes/\1no/" libtool.bak > libtool &&
 #wl-showstatus build &&
 #make &&
 wl-showstatus build-install &&
 make install-strip &&
    echo OK
# wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION



#mkdir -p build_both &&
# wl-showstatus configure &&
# PKG_CONFIG= PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}$MINGWPREFIX/lib $PYDIR/python.exe $(which meson.py) --prefix $INSTALLPREFIX --backend ninja --buildtype release --strip --default-library both -Ddocumentation=true -Dlibwacom=false -Dtests=false . build_static &&
# wl-showstatus build-install &&
# PATH=$PATH:$PYDIR PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}$MINGWPREFIX/lib ninja -Cboth install/strip &&
#    echo OK && find . -name '*.a'
## wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION



