export NAME="BLISS"
export STATUS=
export URL=https://bliss.di.ens.fr/
export BASENAME=bliss
#export DESCRIPTION="BLISS: Bimodal Lattice Signature Schemes (proof-of-concept implementation of the BLISS cryptosystem)"
export DESCRIPTION="bliss is an open source tool for computing automorphism groups and canonical forms of graphs. It has both a command line user interface as well as C++ and C programming language APIs."
export CATEGORY=security
export TYPE=library
#export VERSION=06-13-2013
#export VERSIONDATE=20210910
export VERSION=0.73
export VERSIONDATE=20240222
wl-showstatus --package-version
export DEPENDENCIES=
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=
export OPTIONALBUILDDEPENDENCIES=
export LICENSEFILE=LICENSE.en
export LICENSETYPE=
#export DOWNLOADURL="https://github.com/SRI-CSL/Bliss/releases"
#export DOWNLOADURL="https://bliss.di.ens.fr/"
export DOWNLOADURL="http://www.tcs.hut.fi/Software/bliss/"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
#export DOWNLOADSOURCEURL=https://bliss.di.ens.fr/bliss-$VERSION.zip
export DOWNLOADSOURCEURL=http://www.tcs.hut.fi/Software/bliss/bliss-$VERSION.zip
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
wl-showstatus extract
unzip -oq $TARBALLDIR/$BASENAME/bliss-$VERSION.zip
cd $BASENAME-$VERSION
# fix missing rindex in bliss.cc (version >= 0.73)
mv bliss.cc bliss.cc.bak &&
echo "#define rindex(haystack,needle) strrchr(haystack,needle)" > bliss.cc &&
cat bliss.cc.bak >> bliss.cc
wl-showstatus build &&
 make CXXFLAGS="-Wno-narrowing" &&
    echo OK
# wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && wl-showstatus cleanup && rm -rf $BASENAME-$VERSION
####See also: http://www.tcs.hut.fi/Software/bliss/
####See also: https://github.com/ds4dm/Bliss


