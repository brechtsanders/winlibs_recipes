export NAME="mongoDB"
export STATUS=
export URL=http://www.mongodb.org/
export BASENAME=mongodb
export DESCRIPTION="MongoDB (from \"humongous\") is a scalable, high-performance, open source, document-oriented database."
export CATEGORY=db
export TYPE=library
#export VERSION=1.6.5
#export VERSIONDATE=20101209
#export VERSION=1.7.4
#export VERSIONDATE=20101222
#export VERSION=1.7.5
#export VERSIONDATE=20110127
#export VERSION=1.7.6
#export VERSIONDATE=20110215
#export VERSION=1.8.0
#export VERSIONDATE=20110317
#export VERSION=1.8.1
#export VERSIONDATE=20110407
#export VERSION=1.8.2
#export VERSIONDATE=20110618
#export VERSION=1.8.3
#export VERSIONDATE=20110822
#export VERSION=1.8.4
#export VERSIONDATE=20111025
#export VERSION=1.9.0
#export VERSIONDATE=20110503
#export VERSION=1.9.1
#export VERSIONDATE=20110726
#export VERSION=1.9.2
#export VERSIONDATE=20110816
#export VERSION=2.0.0
#export VERSIONDATE=20110912
#export VERSION=2.0.1
#export VERSIONDATE=20111022
#export VERSION=2.0.2
#export VERSIONDATE=20111215
#export VERSION=2.0.3
#export VERSIONDATE=20120228
#export VERSION=2.0.4
#export VERSIONDATE=20120320
#export VERSION=2.0.5
#export VERSIONDATE=20120510
#export VERSION=2.0.6
#export VERSIONDATE=20120605
#export VERSION=2.0.7
#export VERSIONDATE=20120810
#export VERSION=2.0.8
#export VERSIONDATE=20121120
#export VERSION=2.0.9
#export VERSIONDATE=20130403
#export VERSION=2.1.0
#export VERSIONDATE=20120204
#export VERSION=2.1.1
#export VERSIONDATE=20120502
#export VERSION=2.1.2
#export VERSIONDATE=20120626
#export VERSION=2.2.0
#export VERSIONDATE=20120829
#export VERSION=2.2.1
#export VERSIONDATE=20121031
#export VERSION=2.2.2
#export VERSIONDATE=20121128
#export VERSION=2.2.3
#export VERSIONDATE=20130202
#export VERSION=2.2.4
#export VERSIONDATE=20130403
#export VERSION=2.2.5
#export VERSIONDATE=20130629
#export VERSION=2.2.7
#export VERSIONDATE=20140117
#export VERSION=2.3.0
#export VERSIONDATE=20121023
#export VERSION=2.3.1
#export VERSIONDATE=20121127
#export VERSION=2.3.2
#export VERSIONDATE=20130112
#export VERSION=2.4.0
#export VERSIONDATE=20130319
#export VERSION=2.4.1
#export VERSIONDATE=20130323
#export VERSION=2.4.2
#export VERSIONDATE=20130418
#export VERSION=2.4.3
#export VERSIONDATE=20130424
#export VERSION=2.4.4
#export VERSIONDATE=20130605
#export VERSION=2.4.5
#export VERSIONDATE=20130704
#export VERSION=2.4.6
#export VERSIONDATE=20130821
#export VERSION=2.4.7
#export VERSIONDATE=20131022
#export VERSION=2.4.8
#export VERSIONDATE=20131102
#export VERSION=2.4.9
#export VERSIONDATE=20140111
#export VERSION=2.4.10
#export VERSIONDATE=20140405
#export VERSION=2.4.11
#export VERSIONDATE=20140823
#export VERSION=2.4.12
#export VERSIONDATE=20141017
#export VERSION=2.5.0
#export VERSIONDATE=20130523
#export VERSION=2.5.1
#export VERSIONDATE=20130718
#export VERSION=2.5.2
#export VERSIONDATE=20130826
#export VERSION=2.5.3
#export VERSIONDATE=20131019
#export VERSION=2.5.4
#export VERSIONDATE=20131119
#export VERSION=2.5.5
#export VERSIONDATE=20140201
#export VERSION=2.6.0
#export VERSIONDATE=20140408
#export VERSION=2.6.1
#export VERSIONDATE=20140506
#export VERSION=2.6.2
#export VERSIONDATE=20140617
#export VERSION=2.6.3
#export VERSIONDATE=20140620
#export VERSION=2.6.4
#export VERSIONDATE=20140812
#export VERSION=2.6.5
#export VERSIONDATE=20141009
#export VERSION=2.6.6
#export VERSIONDATE=20141210
#export VERSION=2.6.7
#export VERSIONDATE=20150114
#export VERSION=2.6.8
#export VERSIONDATE=20150226
#export VERSION=2.6.9
#export VERSIONDATE=20150324
#export VERSION=2.6.10
#export VERSIONDATE=20150520
#export VERSION=2.6.11
#export VERSIONDATE=20150812
#export VERSION=2.7.0
#export VERSIONDATE=20140506
#export VERSION=2.7.1
#export VERSIONDATE=20140528
#export VERSION=2.7.2
#export VERSIONDATE=20140616
#export VERSION=2.7.3
#export VERSIONDATE=20140704
#export VERSION=2.7.4
#export VERSIONDATE=20140727
#export VERSION=2.7.5
#export VERSIONDATE=20140819
#export VERSION=2.7.6
#export VERSIONDATE=20140909
#export VERSION=2.7.7
#export VERSIONDATE=20141003
#export VERSION=2.7.8
#export VERSIONDATE=20141023
#export VERSION=3.0.0
#export VERSIONDATE=20150304
#export VERSION=3.0.1
#export VERSIONDATE=20150318
#export VERSION=3.0.3
#export VERSIONDATE=20150513
#export VERSION=3.0.4
#export VERSIONDATE=20150617
#export VERSION=3.0.2
#export VERSIONDATE=20150411
#export VERSION=3.0.5
#export VERSIONDATE=20150729
#export VERSION=3.0.6
#export VERSIONDATE=20150825
#export VERSION=3.0.7
#export VERSIONDATE=20151014
#export VERSION=3.1.0
#export VERSIONDATE=20150318
#export VERSION=3.1.1
#export VERSIONDATE=20150411
#export VERSION=3.1.2
#export VERSIONDATE=20150430
#export VERSION=3.1.3
#export VERSIONDATE=20150520
#export VERSION=3.1.4
#export VERSIONDATE=20150611
#export VERSION=3.1.5
#export VERSIONDATE=20150701
#export VERSION=3.1.6
#export VERSIONDATE=20150722
#export VERSION=3.1.7
#export VERSIONDATE=20150822
#export VERSION=3.1.8
#export VERSIONDATE=20150916
#export VERSION=3.1.9
#export VERSIONDATE=20151014
#export VERSION=3.2.0
#export VERSIONDATE=20151208
#export VERSION=3.2.4
#export VERSIONDATE=20160405
#export VERSION=3.2.5
#export VERSIONDATE=20160415
#export VERSION=3.2.6
#export VERSIONDATE=20160429
#export VERSION=3.3.3
#export VERSIONDATE=20160405
#export VERSION=3.3.4
#export VERSIONDATE=20160406
#export VERSION=3.3.5
#export VERSIONDATE=20160426
#export VERSION=3.4.2
#export VERSIONDATE=20170218
#export VERSION=3.4.4
#export VERSIONDATE=20170608
#export VERSION=3.6.0
#export VERSIONDATE=20171206
#export VERSION=3.6.18
#export VERSIONDATE=20200427
#export VERSION=3.6.19
#export VERSIONDATE=20200722
#export VERSION=3.6.20
#export VERSIONDATE=20200911
#export VERSION=3.6.21
#export VERSIONDATE=20201113
#export VERSION=3.6.22
#export VERSIONDATE=20210205
#export VERSION=3.6.23
#export VERSIONDATE=20210317
#export VERSION=4.0.0
#export VERSIONDATE=20180628
####RuntimeError: can't find a version of [['C:/Program Files/Microsoft SDKs/Windows/', 'C:/Program Files (x86)/Microsoft SDKs/Windows/']] choices: ['v7.1', 'v7.0A', 'v7.0', 'v6.1', 'v6.0a', 'v6.0']:
####scons: warning: No version of Visual Studio compiler found - C/C++ compilers most likely not set correctly
#export VERSION=4.0.17
#export VERSIONDATE=20200318
#export VERSION=4.0.18
#export VERSIONDATE=20200318
#export VERSION=4.0.19
#export VERSIONDATE=20200611
#export VERSION=4.0.20
#export VERSIONDATE=20200820
#export VERSION=4.0.21
#export VERSIONDATE=20201029
#export VERSION=4.0.22
#export VERSIONDATE=20201222
#export VERSION=4.0.23
#export VERSIONDATE=20210218
#export VERSION=4.0.24
#export VERSIONDATE=20210416
#export VERSION=4.0.25
#export VERSIONDATE=20210609
#export VERSION=4.0.26
#export VERSIONDATE=20210723
#export VERSION=4.0.27
#export VERSIONDATE=20210910
#export VERSION=4.0.28
#export VERSIONDATE=20220125
#export VERSION=4.3.4
#export VERSIONDATE=20200304
#export VERSION=4.2.4
#export VERSIONDATE=20200311
#export VERSION=4.2.5
#export VERSIONDATE=20200324
#export VERSION=4.2.6
#export VERSIONDATE=20200417
#export VERSION=4.2.7
#export VERSIONDATE=20200521
#export VERSION=4.2.8
#export VERSIONDATE=20200612
#export VERSION=4.2.9
#export VERSIONDATE=20200819
#export VERSION=4.2.10
#export VERSIONDATE=20201001
#export VERSION=4.2.11
#export VERSIONDATE=20201117
#export VERSION=4.2.13
#export VERSIONDATE=20210317
#export VERSION=4.2.14
#export VERSIONDATE=20210504
#export VERSION=4.2.15
#export VERSIONDATE=20210708
#export VERSION=4.2.16
#export VERSIONDATE=20210910
#export VERSION=4.2.17
#export VERSIONDATE=20210923
#export VERSION=4.2.19
#export VERSIONDATE=20220303
#export VERSION=4.2.20
#export VERSIONDATE=20220505
#export VERSION=4.2.21
#export VERSIONDATE=20220616
#export VERSION=4.2.22
#export VERSIONDATE=20220812
#export VERSION=4.2.23
#export VERSIONDATE=20220930
#export VERSION=4.2.24
#export VERSIONDATE=20230224
#export VERSION=4.3.5
#export VERSIONDATE=20200326
#export VERSION=4.3.6
#export VERSIONDATE=20200407
#export VERSION=4.4.0
#export VERSIONDATE=20200726
#export VERSION=4.4.1
#export VERSIONDATE=20200908
#export VERSION=4.4.2
#export VERSIONDATE=20201117
#export VERSION=4.4.3
#export VERSIONDATE=20201222
#export VERSION=4.4.4
#export VERSIONDATE=20210212
#export VERSION=4.4.5
#export VERSIONDATE=20210407
#export VERSION=4.4.6
#export VERSIONDATE=20210508
#export VERSION=4.4.7
#export VERSIONDATE=20210715
#export VERSION=4.4.8
#export VERSIONDATE=20210802
#export VERSION=4.4.9
#export VERSIONDATE=20210920
#export VERSION=4.4.10
#export VERSIONDATE=20211014
#export VERSION=4.4.13
#export VERSIONDATE=20220303
#export VERSION=4.4.14
#export VERSIONDATE=20220505
#export VERSION=4.4.15
#export VERSIONDATE=20220616
#export VERSION=4.4.16
#export VERSIONDATE=20220816
#export VERSION=4.4.17
#export VERSIONDATE=20220929
#export VERSION=4.4.18
#export VERSIONDATE=20221115
#export VERSION=4.4.19
#export VERSIONDATE=20230224
#export VERSION=4.4.20
#export VERSIONDATE=20230408
#export VERSION=4.4.21
#export VERSIONDATE=20230421
#export VERSION=4.7.0
#export VERSIONDATE=20200912
#export VERSION=5.0.0
#export VERSIONDATE=20210709
#export VERSION=5.0.1
#export VERSIONDATE=20210720
#export VERSION=5.0.2
#export VERSIONDATE=20210804
#export VERSION=5.0.3
#export VERSIONDATE=20210920
#export VERSION=5.0.6
#export VERSIONDATE=20220128
#export VERSION=5.0.7
#export VERSIONDATE=20220407
#export VERSION=5.0.8
#export VERSIONDATE=20220422
#export VERSION=5.0.9
#export VERSIONDATE=20220526
#export VERSION=5.0.10
#export VERSIONDATE=20220727
#export VERSION=5.0.11
#export VERSIONDATE=20220816
#export VERSION=5.0.12
#export VERSIONDATE=20220902
#export VERSION=5.0.13
#export VERSIONDATE=20220929
#export VERSION=5.0.14
#export VERSIONDATE=20221118
#export VERSION=5.0.15
#export VERSIONDATE=20230224
#export VERSION=5.0.16
#export VERSIONDATE=20230407
#export VERSION=5.0.17
#export VERSIONDATE=20230421
#export VERSION=5.2.0
#export VERSIONDATE=20220122
#export VERSION=5.2.1
#export VERSIONDATE=20220218
#export VERSION=5.3.0
#export VERSIONDATE=20220323
#export VERSION=5.3.1
#export VERSIONDATE=20220331
#export VERSION=5.3.2
#export VERSIONDATE=20220616
#export VERSION=6.0.0
#export VERSIONDATE=20220706
#export VERSION=6.0.1
#export VERSIONDATE=20220816
#export VERSION=6.0.2
#export VERSIONDATE=20220929
#export VERSION=6.0.3
#export VERSIONDATE=20221115
#export VERSION=6.0.4
#export VERSIONDATE=20230118
#export VERSION=6.0.5
#export VERSIONDATE=20230309
#export VERSION=6.1.0
#export VERSIONDATE=20221005
#export VERSION=6.1.1
#export VERSIONDATE=20230104
#export VERSION=6.2.0
#export VERSIONDATE=20230120
#export VERSION=6.2.1
#export VERSIONDATE=20230301
#export VERSION=6.3.0
#export VERSIONDATE=20230412
export VERSION=6.3.1
export VERSIONDATE=20230503
wl-showstatus --package-version
export DEPENDENCIES=
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=scons
export OPTIONALBUILDDEPENDENCIES=
#export LICENSEFILE=GNU-AGPL-3.0.txt
#export LICENSETYPE=AGPL
export LICENSEFILE=APACHE-2.0.txt
export LICENSETYPE=Apache
#export DOWNLOADURL="http://www.mongodb.org/downloads mongodb-src-r"
#export DOWNLOADURL="https://www.mongodb.com/download-center?jmp=homepage#community mongodb-src-r"
#export DOWNLOADURL="https://github.com/mongodb/mongo/releases"
export DOWNLOADURL="https://github.com/mongodb/mongo/tags"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
#export DOWNLOADSOURCEURL=http://downloads.mongodb.org/src/mongodb-src-r$VERSION.tar.gz
#export DOWNLOADSOURCEURL=https://github.com/mongodb/mongo/archive/r$VERSION.tar.gz
export DOWNLOADSOURCEURL=https://github.com/mongodb/mongo/archive/refs/tags/r$VERSION.tar.gz
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
#tar xz --force-local -f $TARBALLDIR/$BASENAME/mongodb-src-r$VERSION.tar.gz
tar xz --force-local -f $TARBALLDIR/$BASENAME/r$VERSION.tar.gz
#cd mongodb-src-r$VERSION
cd mongo-r$VERSION
patch -ulbf SConstruct << EOF
--- SConstruct  2011-07-26 07:27:04 +0200
+++ SConstruct  2011-07-26 22:39:30 +0200
@@ -548,3 +548,3 @@

-    boostDir = find_boost()
+    boostDir = "$MINGWPREFIX"
     if boostDir is None:
EOF
wl-showstatus build &&
#PYTHONPATH=$MINGWPREFIX/python/scons $PY2DIR/python.exe $MINGWPREFIX/python/Scripts/scons.py --prefix=$INSTALLPREFIX --sharedclient --full --release --cc=gcc --cxx=g++ --ld=ld &&
#PYTHONPATH=$MINGWPREFIX/python/scons $PY2DIR/python.exe $MINGWPREFIX/python/Scripts/scons.py --prefix=$INSTALLPREFIX --sharedclient=SHAREDCLIENT --full=FULL --release=RELEASE --cc=$(which gcc.exe) --cxx=$(which g++.exe) --ar=$(which ar.exe) --ld=$(which ld.exe) MONGO_VERSION=$VERSION &&
PYTHONPATH=$MINGWPREFIX/python/scons $PY2DIR/python.exe $MINGWPREFIX/python/Scripts/scons-script.py --prefix=$INSTALLPREFIX --sharedclient=SHAREDCLIENT --full=FULL --release=RELEASE --cc=$(which gcc.exe) --cxx=$(which g++.exe) --ar=$(which ar.exe) --ld=$(which ld.exe) MONGO_VERSION=$VERSION &&
#PYTHONPATH=$MINGWPREFIX/python/scons PATH=$PATH:/custombuilt/python:$PY2DIR CMD /C"scons.bat --prefix=$INSTALLPREFIX --sharedclient=SHAREDCLIENT --full=FULL --release=RELEASE --cc=gcc --cxx=g++ --ld=ld" &&
#PYTHONPATH=$MINGWPREFIX/python/scons $PY2DIR/python.exe $MINGWPREFIX/python/Scripts/scons.py --prefix=$INSTALLPREFIX --ssl --cpppath=$MINGWDIR/include --$(if ( echo $RUNPLATFORM | grep -q x86_64 ); then echo 64; else echo 32; fi) --mingw --propagate-shell-environment --dynamic-boost=off --c++11=on install-mongoclient --full=FULL --release=RELEASE --cc=gcc.exe --cxx=g++.exe --ld=ld.exe &&
    echo OK
wl-showstatus build-install &&
 #PYTHONPATH=$MINGWPREFIX/python/scons $PY2DIR/python.exe $MINGWPREFIX/python/Scripts/scons.py --prefix=$INSTALLPREFIX all install MONGO_VERSION=$VERSION  &&
 #PYTHONPATH=$MINGWPREFIX/python/scons $PYDIR/python.exe $MINGWPREFIX/python/Scripts/scons.py --prefix=$INSTALLPREFIX all install MONGO_VERSION=$VERSION  &&
 PYTHONPATH=$MINGWPREFIX/python/scons $PYDIR/python.exe $MINGWPREFIX/python/Scripts/scons-script.py --prefix=$INSTALLPREFIX all install MONGO_VERSION=$VERSION  &&
    echo OK
####RuntimeError: can't find a version of [['C:/Program Files/Microsoft SDKs/Windows/', 'C:/Program Files (x86)/Microsoft SDKs/Windows/']] choices: ['v7.1', 'v7.0A', 'v7.0', 'v6.1', 'v6.0a', 'v6.0']:

# wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && rm -rf mongodb-src-r$VERSION
# wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && rm -rf mongo-r$VERSION
####See also: http://devgl.wordpress.com/2014/06/17/mongodb-c-driver-ported-to-mingw/



