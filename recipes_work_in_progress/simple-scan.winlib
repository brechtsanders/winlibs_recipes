export NAME="simple-scan"
export STATUS=
export URL=http://www.gnome.org/projects/simple-scan
export BASENAME=simple-scan
export DESCRIPTION=""
export CATEGORY=hardware
export TYPE=library
#export VERSION=2.32.0.1
#export VERSIONDATE=20101022
#export VERSION=2.32.0.2
#export VERSIONDATE=20110421
#export VERSION=3.1.3
#export VERSIONDATE=20110713
#export VERSION=3.1.5
#export VERSIONDATE=20110823
#export VERSION=3.2.0
#export VERSIONDATE=20110927
#export VERSION=3.2.1
#export VERSIONDATE=20111109
#export VERSION=3.3.92
#export VERSIONDATE=20120317
#export VERSION=3.20.1
#export VERSIONDATE=20180827
#export VERSION=3.24.1
#export VERSIONDATE=20170427
#export VERSION=3.25.1
#export VERSIONDATE=20170501
#export VERSION=3.25.2
#export VERSIONDATE=20170522
#export VERSION=3.25.3
#export VERSIONDATE=20170622
#export VERSION=3.25.4
#export VERSIONDATE=20170717
#export VERSION=3.26.0
#export VERSIONDATE=20170911
#export VERSION=3.26.1
#export VERSIONDATE=20171003
#export VERSION=3.26.2
#export VERSIONDATE=20171031
#export VERSION=3.26.3
#export VERSIONDATE=20180122
#export VERSION=3.27.1
#export VERSIONDATE=20171016
#export VERSION=3.27.2
#export VERSIONDATE=20171113
#export VERSION=3.27.3
#export VERSIONDATE=20171211
#export VERSION=3.27.4
#export VERSIONDATE=20180108
#export VERSION=3.27.90
#export VERSIONDATE=20180202
#export VERSION=3.28.0
#export VERSIONDATE=20180313
#export VERSION=3.28.1
#export VERSIONDATE=20180409
#export VERSION=3.29.2
#export VERSIONDATE=20180521
#export VERSION=3.29.3
#export VERSIONDATE=20180618
export VERSION=3.29.4
export VERSIONDATE=20180713
#export VERSION=3.29.90
#export VERSIONDATE=20180730
#export VERSION=3.29.91
#export VERSIONDATE=20180813
#export VERSION=3.29.92
#export VERSIONDATE=20180827
#export VERSION=3.30.0
#export VERSIONDATE=20180903
#export VERSION=3.30.1
#export VERSIONDATE=20180925
#export VERSION=3.30.1.1
#export VERSIONDATE=20180928
#export VERSION=3.30.2
#export VERSIONDATE=20181023
export DEPENDENCIES=gtk2,gconf,zlib,cairo,gdk-pixbuf,dbus-glib,gudev,vala,sane-backends
export OPTIONALDEPENDENCIES=
export BUILDDEPENDENCIES=
export OPTIONALBUILDDEPENDENCIES=
#export VERSION=3.31.1
#export VERSIONDATE=20181012
#export VERSION=3.31.2
#export VERSIONDATE=20181112
#export VERSION=3.31.3
#export VERSIONDATE=20181210
#export VERSION=3.31.4
#export VERSIONDATE=20190108
#export VERSION=3.32.0
#export VERSIONDATE=20190311
#export VERSION=3.32.1
#export VERSIONDATE=20190412
#export VERSION=3.32.2
#export VERSIONDATE=20190412
#export VERSION=3.32.2.1
#export VERSIONDATE=20190506
#export VERSION=3.33.1
#export VERSIONDATE=20190429
#export VERSION=3.33.2
#export VERSIONDATE=20190618
#export VERSION=3.33.3
#export VERSIONDATE=20190618
#export VERSION=3.33.4
#export VERSIONDATE=20190724
#export VERSION=3.34.0
#export VERSIONDATE=20190909
#export VERSION=3.34.1
#export VERSIONDATE=20191007
#export VERSION=3.34.2
#export VERSIONDATE=20191122
#export VERSION=3.34.4
#export VERSIONDATE=20200214
#export VERSION=3.34.6
#export VERSIONDATE=20200429
#export VERSION=3.34.7
#export VERSIONDATE=20200603
#export VERSION=3.35.1
#export VERSIONDATE=20191014
#export VERSION=3.35.2
#export VERSIONDATE=20191122
#export VERSION=3.35.3
#export VERSIONDATE=20200106
#export VERSION=3.36.0
#export VERSIONDATE=20200306
#export VERSION=3.36.1
#export VERSIONDATE=20200327
#export VERSION=3.36.2
#export VERSIONDATE=20200429
#export VERSION=3.36.2.1
#export VERSIONDATE=20200506
#export VERSION=3.36.3
#export VERSIONDATE=20200603
#export VERSION=3.36.4
#export VERSIONDATE=20200710
#export VERSION=3.36.6
#export VERSIONDATE=20200905
#export VERSION=3.36.7
#export VERSIONDATE=20201126
####error: Package `gusb' not found in specified Vala API directories or GObject-Introspection GIR directories
#export VERSION=3.37.1
#export VERSIONDATE=20200429
#export VERSION=3.37.2
#export VERSIONDATE=20200603
#export VERSION=3.37.3
#export VERSIONDATE=20200710
#export VERSION=3.38.0
#export VERSIONDATE=20200912
####No package 'gudev-1.0' found
#export VERSION=3.38.1
#export VERSIONDATE=20201003
#export VERSION=3.38.2
#export VERSIONDATE=20201208
#export VERSION=3.38.5
#export VERSIONDATE=20210313
#export VERSION=40
#export VERSIONDATE=20210320
#export VERSION=40.0
#export VERSIONDATE=20210323
#export VERSION=40.1
#export VERSIONDATE=20210525
#export VERSION=40.5
#export VERSIONDATE=20210923
#export VERSION=40.6
#export VERSIONDATE=20211101
#export VERSION=40.7
#export VERSIONDATE=20211221
#export VERSION=42.0
#export VERSIONDATE=20220319
#export VERSION=42.1
#export VERSIONDATE=20220419
#export VERSION=42.5
#export VERSIONDATE=20220921
####error: Package `gusb' not found in specified Vala API directories or GObject-Introspection GIR directories
wl-showstatus --package-version
#export DEPENDENCIES=glib2,gtk2,gconf,zlib,cairo,gdk-pixbuf,dbus-glib,libgusb,libwebp,sane-backends,gudev
#export OPTIONALDEPENDENCIES=colord,libhandy
#export BUILDDEPENDENCIES=meson
#export OPTIONALBUILDDEPENDENCIES=
export LICENSEFILE=COPYING
export LICENSETYPE=GPL
export DOWNLOADURL="http://ftp.gnome.org/pub/GNOME/sources/simple-scan/"
export INSTALLPREFIX=`pwd`/inst_$BASENAME-$VERSION
#export DOWNLOADSOURCEURL=http://ftp.gnome.org/pub/gnome/sources/$BASENAME/`echo $VERSION|sed 's/^\([0-9]*\.[0-9]*\)\..*$/\1/'`/$BASENAME-$VERSION.tar.bz2
export DOWNLOADSOURCEURL=http://ftp.gnome.org/pub/gnome/sources/$BASENAME/$(echo $VERSION|sed 's/^\([0-9]*\.[0-9]*\)\..*$/\1/')/$BASENAME-$VERSION.tar.xz
#export DOWNLOADSOURCEURL=http://ftp.gnome.org/pub/gnome/sources/$BASENAME/$(echo $VERSION|sed 's/^\([0-9]*\)\..*$/\1/')/$BASENAME-$VERSION.tar.xz
wl-showstatus download
wl-download -v -d $TARBALLDIR/$BASENAME $DOWNLOADSOURCEURL
wl-wait4deps
#tar xj --force-local -f $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.bz2
tar xJ --force-local -f $TARBALLDIR/$BASENAME/$BASENAME-$VERSION.tar.xz
cd $BASENAME-$VERSION
wl-showstatus configure &&
 ./configure --prefix=$INSTALLPREFIX --build=$BUILDPLATFORM --host=$RUNPLATFORM LDFLAGS="-no-undefined -Wl,-no-undefined" &&
 wl-showstatus build-install &&
 make install-strip &&
    echo OK
#mkdir -p build_both &&
# wl-showstatus configure &&
# PKG_CONFIG= PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}$MINGWPREFIX/lib $PYDIR/python.exe $(which meson.py) --prefix $INSTALLPREFIX --backend ninja --buildtype release --strip --default-library both . build_both &&
# wl-showstatus configure &&
# PATH=$PATH:$PYDIR PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}$MINGWPREFIX/lib ninja -Cbuild_both install &&
#    echo OK && find . -name '*.a'
## wl-makepackage -c -d && wl-install -d $BASENAME-$VERSION && cd .. && rm -rf $BASENAME-$VERSION
####requires udev which requires a 2.6 Linux kernel and udev installed



#export BUILDDEPENDENCIES=meson,ninja
#export OPTIONALBUILDDEPENDENCIES=
#-Dc_args=$CFLAGS -Dcpp_args=$CXXFLAGS -Dc_link_args=$LDFLAGS
## fix missing gio-unix
##sed -i.bak -e "s/gio-unix-/gio-/" meson.build
#sed -i.bak -e "s/gio-unix-/gio-windows-/" meson.build
#mkdir -p build_both &&
# wl-showstatus configure &&
# PKG_CONFIG= PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}$MINGWPREFIX/lib $PYDIR/python.exe $(which meson.py) --prefix $INSTALLPREFIX --backend ninja --buildtype release --strip --default-library both . build_both &&
# ## fix slash/backslash path issue when calling Python from Ninja
# #sed -i.bak -e "s/join_paths/os.path.join/g; /COMMAND =.*python\.exe/ s?\"/\([a-zA-Z]\)/?\"\1:/?; /COMMAND =.*python\.exe/ s?/?\\\\?g" build_*/build.ninja &&
# ## fix Python path issues in meson_exe
# #sed -i.bak -e "s?$PYDIR?$(echo $PYDIR|sed -e "s?^/\([a-zA-Z]\)/?\1:/?")?" build_both/meson-private/meson_exe_python.exe_*.dat &&
# ## fix execution of Python scripts
# #sed -i.bak -e "s?\(COMMAND\|POST_BUILD\)\( *= *\| *=.*\&\& *\)\(\"\{0,1\}[^ ]*\)\(\.py\|glib-mkenums\|g-ir-scanner\)\(\"\{0,1\} \)?\1\2$(echo $PYDIR/python.exe|sed -e "s?^/\([a-zA-Z]\)/?\1:\\\\\\\\?; s?/?\\\\\\\\?g") \3\4\5?" build_both/build.ninja &&
# ## fix executing shell scripts
# #sed -i.bak -e "s?^\(\s*COMMAND\s*=\s*\)\(\"[^\"]*\.sh\"\)?\1\"$(cygpath -m $(which sh.exe))\" \2?" build_both/build.ninja &&
# wl-showstatus build-install &&
# #PATH=$PATH:$PYDIR PYTHONPATH=${PYTHONPATH:+$PYTHONPATH:}$MINGWPREFIX/lib GETTEXTDATADIR=$MINGWPREFIX/share/gettext ninja -Cbuild_both install &&
# PATH=$PATH:$PYDIR PYTHONPATH=$MINGWPREFIX/python/Lib/site-packages${PYTHONPATH:+:$PYTHONPATH} GETTEXTDATADIR=$MINGWPREFIX/share/gettext ninja -Cbuild_both install &&
#    echo OK && find . -name '*.a'
